<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MARIO FINANCE</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="marioFinance.css">
</head>
<body>
    <!-- Elementos de fondo de Mario Bros -->
    <div class="background-elements">
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="pipe"></div>
        <div class="pipe"></div>
        <div class="coin-block"></div>
        <div class="coin-block"></div>
    </div>
    <div class="ground"></div>
    <div class="mario-character"></div>

    <div class="app-container">
        <!-- Encabezado con logo estilo Mario -->
        <header class="app-header">
            <div class="game-logo">
                <span class="logo-letter" style="color: #e52521">M</span>
                <span class="logo-letter" style="color: #ff6b35">A</span>
                <span class="logo-letter" style="color: #ffd166">R</span>
                <span class="logo-letter" style="color: #06d6a0">I</span>
                <span class="logo-letter" style="color: #118ab2">O</span>
                <span class="logo-space"></span>
                <span class="logo-letter" style="color: #073b4c">F</span>
                <span class="logo-letter" style="color: #ef476f">I</span>
                <span class="logo-letter" style="color: #ffd166">N</span>
                <span class="logo-letter" style="color: #06d6a0">A</span>
                <span class="logo-letter" style="color: #118ab2">N</span>
                <span class="logo-letter" style="color: #073b4c">C</span>
                <span class="logo-letter" style="color: #ef476f">E</span>
            </div>
        </header>

        <main class="main-content">
            <!-- Menú de navegación lateral -->
            <nav class="sidebar">
                <a href="#dashboard" data-section="dashboard" class="active">
                    <i class="fas fa-chart-bar"></i>
                    <span>DASHBOARD</span>
                </a>
                <a href="#transacciones" data-section="transacciones">
                    <i class="fas fa-exchange-alt"></i>
                    <span>TRANSACCIONES</span>
                </a>
                <a href="#categorias" data-section="categorias">
                    <i class="fas fa-tags"></i>
                    <span>CATEGORÍAS</span>
                </a>
                <a href="#presupuestos" data-section="presupuestos">
                    <i class="fas fa-chart-pie"></i>
                    <span>PRESUPUESTOS</span>
                </a>
            </nav>

            <!-- Área de contenido principal -->
            <div class="content-area">
                <!-- Sección: Dashboard -->
                <section id="dashboard" class="section active">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-bar"></i> DASHBOARD FINANCIERO</h2>
                        <div class="section-controls">
                            <select id="dashboard-filtro-mes" class="mario-select">
                            <option value="2025-01">Enero 2025</option>
                            <option value="2025-02">Febrero 2025</option>
                            <option value="2025-03">Marzo 2025</option>
                            <option value="2025-04">Abril 2025</option>
                            <option value="2025-05">Mayo 2025</option>
                            <option value="2025-06">Junio 2025</option>
                            <option value="2025-07">Julio 2025</option>
                            <option value="2025-08">Agosto 2025</option>
                            <option value="2025-09">Septiembre 2025</option>
                            <option value="2025-10">Octubre 2025</option>
                            <option value="2025-11">Noviembre 2025</option>
                            <option value="2025-12">Diciembre 2025</option>
                            <option value="2026-01">Enero 2026</option>
                            </select>
                        </div>
                    </div>

                    <!-- Tarjetas de estadísticas -->
                    <div class="dashboard-grid">
                        <div class="card income">
                            <div class="card-icon"><i class="fas fa-money-bill-wave"></i></div>
                            <div class="card-content">
                                <h3>INGRESOS</h3>
                                <p id="dashboard-ingresos" class="stat-value">$0.00</p>
                                <p class="stat-period">Este mes</p>
                            </div>
                        </div>
                        <div class="card expense">
                            <div class="card-icon"><i class="fas fa-shopping-cart"></i></div>
                            <div class="card-content">
                                <h3>GASTOS</h3>
                                <p id="dashboard-gastos" class="stat-value">$0.00</p>
                                <p class="stat-period">Este mes</p>
                            </div>
                        </div>
                        <div class="card balance">
                            <div class="card-icon"><i class="fas fa-balance-scale"></i></div>
                            <div class="card-content">
                                <h3>BALANCE</h3>
                                <p id="dashboard-balance" class="stat-value">$0.00</p>
                                <p class="stat-period">Neto</p>
                            </div>
                        </div>
                        <div class="card budget">
                            <div class="card-icon"><i class="fas fa-wallet"></i></div>
                            <div class="card-content">
                                <h3>PRESUPUESTO</h3>
                                <p id="dashboard-presupuesto" class="stat-value">$0.00</p>
                                <p class="stat-period">Restante</p>
                            </div>
                        </div>
                    </div>

                    <!-- Gráficos -->
                    <div class="charts-container">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3><i class="fas fa-chart-pie"></i> GASTOS POR CATEGORÍA</h3>
                                <span>Este mes</span>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="expensesByCategoryChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3><i class="fas fa-chart-line"></i> EVOLUCIÓN ANUAL</h3>
                                <span>2025</span>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="annualBalanceChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3><i class="fas fa-chart-"></i> BALANCE VS ESTIMADO</h3>
                                <span>Este mes</span>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="balanceVsEstimatedChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3><i class="fas fa-chart-line"></i> GASTOS VS ESTIMADO</h3>
                                <span>2025</span>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="expensesVsEstimatedChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Transacciones recientes -->
                    <div class="recent-transactions">
                        <h3><i class="fas fa-history"></i> TRANSACCIONES RECIENTES</h3>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>FECHA</th>
                                        <th>DESCRIPCIÓN</th>
                                        <th>CATEGORÍA</th>
                                        <th>TIPO</th>
                                        <th>MONTO</th>
                                    </tr>
                                </thead>
                                <tbody id="dashboard-transacciones-recientes">
                                    <!-- JS: transacciones recientes -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Sección: Transacciones -->
                <section id="transacciones" class="section">
                    <div class="section-header">
                        <h2><i class="fas fa-exchange-alt"></i> GESTIÓN DE TRANSACCIONES</h2>
                    </div>

                    <!-- Formulario de transacción -->
                    <div class="form-box">
                        <h3 id="form-transaccion-titulo"><i class="fas fa-plus-circle"></i> NUEVA TRANSACCIÓN</h3>
                        <form id="form-transaccion" class="mario-form">
                            <input type="hidden" id="transaction-id">
                            <div class="form-row">
                                <div class="form-group">
                                    <label><i class="fas fa-exchange-alt"></i> TIPO:</label>
                                    <div class="radio-group">
                                        <label class="radio-option">
                                            <input type="radio" name="tipo-transaccion" value="ingreso" required>
                                            <span class="radio-label ingreso">INGRESO</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="tipo-transaccion" value="egreso">
                                            <span class="radio-label egreso">EGRESO</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="monto"><i class="fas fa-coins"></i> MONTO:</label>
                                    <div class="input-with-icon">
                                        <span class="input-prefix">$</span>
                                        <input type="number" id="monto" step="0.01" min="0.01" required>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="fecha"><i class="fas fa-calendar-alt"></i> FECHA:</label>
                                    <input type="date" id="fecha" required>
                                </div>
                                <div class="form-group">
                                    <label for="categoria-transaccion"><i class="fas fa-tag"></i> CATEGORÍA:</label>
                                    <select id="categoria-transaccion" required></select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="descripcion"><i class="fas fa-file-alt"></i> DESCRIPCIÓN:</label>
                                <textarea id="descripcion" rows="2" placeholder="DESCRIBE LA TRANSACCIÓN..."></textarea>
                            </div>
                            <div class="form-buttons">
                                <button type="submit" class="mario-button success">
                                    <i class="fas fa-save"></i> GUARDAR
                                </button>
                                <button type="button" id="btn-cancelar-transaccion" class="mario-button cancel">
                                    <i class="fas fa-times"></i> CANCELAR
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Tabla de transacciones -->
                    <div class="table-box">
                        <div class="table-header">
                            <h3><i class="fas fa-list"></i> LISTA DE TRANSACCIONES</h3>
                            <span id="total-transacciones">0 TRANSACCIONES</span>
                        </div>
                        <div class="table-container">
                            <table id="tabla-transacciones">
                                <thead>
                                    <tr>
                                        <th>FECHA</th>
                                        <th>DESCRIPCIÓN</th>
                                        <th>CATEGORÍA</th>
                                        <th>TIPO</th>
                                        <th>MONTO</th>
                                        <th>ACCIONES</th>
                                    </tr>
                                </thead>
                                <tbody id="cuerpo-tabla-transacciones">
                                    <!-- JS: transacciones -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Sección: Categorías -->
                <section id="categorias" class="section">
                    <div class="section-header">
                        <h2><i class="fas fa-tags"></i> GESTIÓN DE CATEGORÍAS</h2>
                    </div>

                    <!-- Formulario de categoría -->
                    <div class="form-box">
                        <h3 id="form-categoria-titulo"><i class="fas fa-plus-circle"></i> NUEVA CATEGORÍA</h3>
                        <form id="form-categoria" class="mario-form">
                            <input type="hidden" id="category-id">
                            <div class="form-group">
                                <label for="nombre-categoria"><i class="fas fa-font"></i> NOMBRE:</label>
                                <input type="text" id="nombre-categoria" required placeholder="EJ: ALIMENTACIÓN, TRANSPORTE...">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="tipo-categoria"><i class="fas fa-exchange-alt"></i> TIPO:</label>
                                    <select id="tipo-categoria">
                                        <option value="egreso">EGRESO</option>
                                        <option value="ingreso">INGRESO</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="color-categoria"><i class="fas fa-palette"></i> COLOR:</label>
                                    <div class="color-picker">
                                        <input type="color" id="color-categoria" value="#FF6B6B">
                                        <span class="color-preview" id="color-preview"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-buttons">
                                <button type="submit" class="mario-button success">
                                    <i class="fas fa-plus"></i> AGREGAR
                                </button>
                                <button type="button" id="btn-cancelar-categoria" class="mario-button cancel">
                                    <i class="fas fa-times"></i> CANCELAR
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Lista de categorías -->
                    <div class="lista-categorias">
                        <div class="section-header">
                            <h3 class="mario-font"><i class="fas fa-list"></i> CATEGORÍAS DISPONIBLES</h3> 
                            <span id="total-categorias" class="mario-font">0 CATEGORÍAS</span>
                        </div>
                        <div class="categorias-grid" id="lista-categorias">
                            <!-- JS: categorías -->
                        </div>
                    </div>
                </section>

                <!-- Sección: Presupuestos -->
                <section id="presupuestos" class="section">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-pie"></i> GESTIÓN DE PRESUPUESTOS</h2>
                    </div>

                    <!-- Formulario de presupuesto -->
                    <div class="form-box">
                        <h3><i class="fas fa-plus-circle"></i> NUEVO PRESUPUESTO</h3>
                        <form id="form-presupuesto" class="mario-form">
                            <input type="hidden" id="budget-id">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="presupuesto-mes"><i class="fas fa-calendar"></i> MES/AÑO:</label>
                                    <input type="month" id="presupuesto-mes" required>
                                </div>
                                <div class="form-group">
                                    <label for="presupuesto-categoria"><i class="fas fa-tag"></i> CATEGORÍA:</label>
                                    <select id="presupuesto-categoria" required></select>
                                </div>
                                <div class="form-group">
                                    <label for="presupuesto-monto"><i class="fas fa-coins"></i> MONTO ESTIMADO:</label>
                                    <div class="input-with-icon">
                                        <span class="input-prefix">$</span>
                                        <input type="number" id="presupuesto-monto" step="0.01" min="0.01" required>
                                    </div>
                                </div>
                            </div>
                            <div class="form-buttons">
                                <button type="submit" class="mario-button success">
                                    <i class="fas fa-save"></i> GUARDAR
                                </button>
                                <button type="button" id="btn-cancelar-presupuesto" class="mario-button cancel">
                                    <i class="fas fa-times"></i> CANCELAR
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Tabla de presupuestos -->
                    <div class="table-box">
                        <div class="table-header">
                            <h3><i class="fas fa-list"></i> PRESUPUESTOS</h3>
                            <span id="total-presupuestos">0 PRESUPUESTOS</span>
                        </div>
                        <div class="table-container">
                            <table id="tabla-presupuestos">
                                <thead>
                                    <tr>
                                        <th>CATEGORÍA</th>
                                        <th>PRESUPUESTO ESTIMADO</th>
                                        <th>GASTO REAL</th>
                                        <th>DESVIACIÓN</th>
                                        <th>% UTILIZADO</th>
                                        <th>ACCIONES</th>
                                    </tr>
                                </thead>
                                <tbody id="cuerpo-tabla-presupuestos">
                                    <!-- JS: presupuestos -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Modal de confirmación -->
        <div id="modal-confirmacion" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-titulo">CONFIRMACIÓN</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="modal-mensaje">¿ESTÁ SEGURO DE QUE DESEA REALIZAR ESTA ACCIÓN?</p>
                </div>
                <div class="modal-buttons">
                    <button id="btn-modal-confirmar" class="mario-button danger">CONFIRMAR</button>
                    <button id="btn-modal-cancelar" class="mario-button cancel">CANCELAR</button>
                </div>
            </div>
        </div>

        <!-- Notificaciones -->
        <div id="notification-container"></div>
    </div>

    <script type="module" src="./App/appController.js"></script>
</body>
</html>